<?php
class MinecraftRcon {
    private $host; private $port; private $password; private $timeout = 3;
    public function __construct($host, $port, $password) {
        $this->host = $host; $this->port = $port; $this->password = $password;
    }
    public function send($command) {
        $socket = @fsockopen($this->host, $this->port, $errno, $errstr, $this->timeout);
        if (!$socket) return false;
        fwrite($socket, pack("VV", 1, 3) . $this->password . "\x00\x00");
        fwrite($socket, pack("VV", 2, 2) . $command . "\x00\x00");
        fclose($socket);
        return true;
    }
}
?>